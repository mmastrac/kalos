/* Generated by kalos_idl_compiler - DO NOT MODIFY */

#define K__pstring kalos_string*
#define K__string  kalos_string
#define K__pnumber kalos_int
#define K__number  kalos_int
#define K__pbool   kalos_int
#define K__bool    kalos_int
#define K__pobject kalos_object_ref*
#define K__object  kalos_object_ref
#define K__pany    kalos_value*
#define K__any     kalos_value

#define K__t_string KALOS_VALUE_STRING
#define K__t_number KALOS_VALUE_NUMBER
#define K__t_bool   KALOS_VALUE_BOOL
#define K__t_object KALOS_VALUE_OBJECT
#define K__t_any    KALOS_VALUE_ANY

#define K__clean_string(stack, x) kalos_string_release((kalos_state*)state, x);
#define K__clean_number(stack, x) ;
#define K__clean_bool  (stack, x) ;
#define K__clean_object(stack, x) kalos_object_release((kalos_state*)state, &x);
#define K__clean_any   (stack, x) kalos_clear((kalos_state*)state, x);
#define K__arg(n, x)     peek(stack, (n)-(x))
#define K__arg_string(x) &((x)->value.string)
#define K__arg_number(x) (x)->value.number
#define K__arg_bool(x)   (x)->value.number
#define K__arg_object(x) &((x)->value.object)
#define K__arg_any(x)    (x)
#define K__name(n, s) (param_count == n && strcmp(name, s) == 0)

// id=0000:0001 name=close
void kalos_module_idl_trigger_close(kalos_run_state* state) {
	kalos_trigger(state, kalos_make_address(0x0, 0x1));
}

// id=0000:0002 name=open
void kalos_module_idl_trigger_open(kalos_run_state* state, K__pbool a0) {
	kalos_load_arg_bool(state, 0, a0);
	kalos_trigger(state, kalos_make_address(0x0, 0x2));
}

// id=0000:0003 name=object_property
void kalos_module_idl_trigger_object_property(kalos_run_state* state) {
	kalos_trigger(state, kalos_make_address(0x0, 0x3));
}

bool kalos_module_idl_builtin_dynamic_dispatch(kalos_run_state* state, const char* name, int param_count, kalos_stack* stack, bool retval) {
	// id=1 name=println arg_count=1 binding=fn kalos_idl_compiler_println
	if (K__name(1, "println")) {
		LOG("Invoke %s", "println");
		const int arg_count = 1;
		kalos_stack_setup_1(state, K__t_string);
		kalos_idl_compiler_println((void*)state, K__arg_string(K__arg(arg_count, 1)));
		kalos_stack_cleanup(state, arg_count);
		return true;
	}

	// id=2 name=print arg_count=1 binding=fn kalos_idl_compiler_print
	if (K__name(1, "print")) {
		LOG("Invoke %s", "print");
		const int arg_count = 1;
		kalos_stack_setup_1(state, K__t_string);
		kalos_idl_compiler_print((void*)state, K__arg_string(K__arg(arg_count, 1)));
		kalos_stack_cleanup(state, arg_count);
		return true;
	}

	// id=3 name=log arg_count=1 binding=fn kalos_idl_compiler_log
	if (K__name(1, "log")) {
		LOG("Invoke %s", "log");
		const int arg_count = 1;
		kalos_stack_setup_1(state, K__t_string);
		kalos_idl_compiler_log((void*)state, K__arg_string(K__arg(arg_count, 1)));
		kalos_stack_cleanup(state, arg_count);
		return true;
	}

	return false;
}

bool kalos_module_idl_kidl_dynamic_dispatch(kalos_run_state* state, const char* name, int param_count, kalos_stack* stack, bool retval) {
	// id=1 name=walk_modules arg_count=1 binding=fn kalos_idl_walk_modules
	if (K__name(1, "walk_modules")) {
		LOG("Invoke %s", "walk_modules");
		const int arg_count = 1;
		kalos_stack_setup_1(state, K__t_any);
		kalos_idl_walk_modules((void*)state, K__arg_any(K__arg(arg_count, 1)));
		kalos_stack_cleanup(state, arg_count);
		return true;
	}

	// id=2 name=prefix binding=fn kalos_idl_module_prefix
	if (K__name(0, "prefix")) {
		push_string(stack, kalos_idl_module_prefix((void*)state));
		return true;
	}
	return false;
}

// id=0002:0001 name=begin
void kalos_module_idl_module_trigger_begin(kalos_run_state* state, K__pany a0, K__pobject a1) {
	kalos_load_arg_any(state, 0, a0);
	kalos_load_arg_object(state, 1, a1);
	kalos_trigger(state, kalos_make_address(0x2, 0x1));
}

// id=0002:0002 name=function
void kalos_module_idl_module_trigger_function(kalos_run_state* state, K__pany a0, K__pobject a1) {
	kalos_load_arg_any(state, 0, a0);
	kalos_load_arg_object(state, 1, a1);
	kalos_trigger(state, kalos_make_address(0x2, 0x2));
}

// id=0002:0003 name=handler
void kalos_module_idl_module_trigger_handler(kalos_run_state* state, K__pany a0, K__pobject a1) {
	kalos_load_arg_any(state, 0, a0);
	kalos_load_arg_object(state, 1, a1);
	kalos_trigger(state, kalos_make_address(0x2, 0x3));
}

// id=0002:0004 name=property
void kalos_module_idl_module_trigger_property(kalos_run_state* state, K__pany a0, K__pobject a1) {
	kalos_load_arg_any(state, 0, a0);
	kalos_load_arg_object(state, 1, a1);
	kalos_trigger(state, kalos_make_address(0x2, 0x4));
}

// id=0002:0005 name=object
void kalos_module_idl_module_trigger_object(kalos_run_state* state, K__pany a0, K__pobject a1) {
	kalos_load_arg_any(state, 0, a0);
	kalos_load_arg_object(state, 1, a1);
	kalos_trigger(state, kalos_make_address(0x2, 0x5));
}

//kalos_module_idl_module_object_module_obj_props
bool kalos_module_idl_module_object_module_obj_props_fn(kalos_run_state* state, kalos_object_ref* object, const char* name, int param_count, kalos_stack* stack) {
	// id=2 name=name binding=fn kalos_idl_obj_module_name
	if (K__name(0, "name")) {
		push_string(stack, kalos_idl_obj_module_name((void*)state, object));
		return true;
	}
	// id=4 name=prefix binding=fn kalos_idl_obj_module_prefix
	if (K__name(0, "prefix")) {
		push_string(stack, kalos_idl_obj_module_prefix((void*)state, object));
		return true;
	}
	return false;
}

kalos_object_dispatch kalos_module_idl_module_object_module_obj_props = {
	.dispatch_name = kalos_module_idl_module_object_module_obj_props_fn
};

//kalos_module_idl_module_object_function_obj_props
bool kalos_module_idl_module_object_function_obj_props_fn(kalos_run_state* state, kalos_object_ref* object, const char* name, int param_count, kalos_stack* stack) {
	// id=6 name=id binding=fn kalos_idl_function_id2
	if (K__name(0, "id")) {
		push_number(stack, kalos_idl_function_id2((void*)state, object));
		return true;
	}
	// id=8 name=return_type binding=fn kalos_idl_function_return_type2
	if (K__name(0, "return_type")) {
		push_string(stack, kalos_idl_function_return_type2((void*)state, object));
		return true;
	}
	// id=2 name=name binding=fn kalos_idl_export_name2
	if (K__name(0, "name")) {
		push_string(stack, kalos_idl_export_name2((void*)state, object));
		return true;
	}
	// id=10 name=args binding=fn kalos_idl_function_args2
	if (K__name(0, "args")) {
		push_object(stack, kalos_idl_function_args2((void*)state, object));
		return true;
	}
	// id=12 name=arg_count binding=fn kalos_idl_function_arg_count2
	if (K__name(0, "arg_count")) {
		push_number(stack, kalos_idl_function_arg_count2((void*)state, object));
		return true;
	}
	// id=14 name=varargs binding=fn kalos_idl_function_varargs2
	if (K__name(0, "varargs")) {
		push_string(stack, kalos_idl_function_varargs2((void*)state, object));
		return true;
	}
	// id=16 name=binding binding=fn kalos_idl_function_binding
	if (K__name(0, "binding")) {
		push_object(stack, kalos_idl_function_binding((void*)state, object));
		return true;
	}
	return false;
}

kalos_object_dispatch kalos_module_idl_module_object_function_obj_props = {
	.dispatch_name = kalos_module_idl_module_object_function_obj_props_fn
};

//kalos_module_idl_module_object_property_obj_props
bool kalos_module_idl_module_object_property_obj_props_fn(kalos_run_state* state, kalos_object_ref* object, const char* name, int param_count, kalos_stack* stack) {
	// id=2 name=name binding=fn kalos_idl_property_name
	if (K__name(0, "name")) {
		push_string(stack, kalos_idl_property_name((void*)state, object));
		return true;
	}
	// id=18 name=read_id binding=fn kalos_idl_property_read_id2
	if (K__name(0, "read_id")) {
		push_number(stack, kalos_idl_property_read_id2((void*)state, object));
		return true;
	}
	// id=20 name=write_id binding=fn kalos_idl_property_write_id2
	if (K__name(0, "write_id")) {
		push_number(stack, kalos_idl_property_write_id2((void*)state, object));
		return true;
	}
	// id=22 name=type binding=fn kalos_idl_property_type2
	if (K__name(0, "type")) {
		push_string(stack, kalos_idl_property_type2((void*)state, object));
		return true;
	}
	// id=24 name=read_binding binding=fn kalos_idl_property_read_binding
	if (K__name(0, "read_binding")) {
		push_object(stack, kalos_idl_property_read_binding((void*)state, object));
		return true;
	}
	// id=26 name=write_binding binding=fn kalos_idl_property_write_binding
	if (K__name(0, "write_binding")) {
		push_object(stack, kalos_idl_property_write_binding((void*)state, object));
		return true;
	}
	return false;
}

kalos_object_dispatch kalos_module_idl_module_object_property_obj_props = {
	.dispatch_name = kalos_module_idl_module_object_property_obj_props_fn
};

//kalos_module_idl_module_object_handler_obj_props
bool kalos_module_idl_module_object_handler_obj_props_fn(kalos_run_state* state, kalos_object_ref* object, const char* name, int param_count, kalos_stack* stack) {
	// id=2 name=name binding=fn kalos_idl_export_name2
	if (K__name(0, "name")) {
		push_string(stack, kalos_idl_export_name2((void*)state, object));
		return true;
	}
	// id=28 name=module_index binding=fn kalos_idl_handler_module_index2
	if (K__name(0, "module_index")) {
		push_number(stack, kalos_idl_handler_module_index2((void*)state, object));
		return true;
	}
	// id=30 name=handler_index binding=fn kalos_idl_handler_index2
	if (K__name(0, "handler_index")) {
		push_number(stack, kalos_idl_handler_index2((void*)state, object));
		return true;
	}
	// id=10 name=args binding=fn kalos_idl_handler_args
	if (K__name(0, "args")) {
		push_object(stack, kalos_idl_handler_args((void*)state, object));
		return true;
	}
	return false;
}

kalos_object_dispatch kalos_module_idl_module_object_handler_obj_props = {
	.dispatch_name = kalos_module_idl_module_object_handler_obj_props_fn
};

//kalos_module_idl_module_object_object_obj_props
bool kalos_module_idl_module_object_object_obj_props_fn(kalos_run_state* state, kalos_object_ref* object, const char* name, int param_count, kalos_stack* stack) {
	// id=2 name=name binding=fn kalos_idl_export_name2
	if (K__name(0, "name")) {
		push_string(stack, kalos_idl_export_name2((void*)state, object));
		return true;
	}
	return false;
}

kalos_object_dispatch kalos_module_idl_module_object_object_obj_props = {
	.dispatch_name = kalos_module_idl_module_object_object_obj_props_fn
};

//kalos_module_idl_module_object_binding_obj_props
bool kalos_module_idl_module_object_binding_obj_props_fn(kalos_run_state* state, kalos_object_ref* object, const char* name, int param_count, kalos_stack* stack) {
	// id=22 name=type binding=fn kalos_idl_binding_type
	if (K__name(0, "type")) {
		push_string(stack, kalos_idl_binding_type((void*)state, object));
		return true;
	}
	// id=32 name=value binding=fn kalos_idl_binding_value
	if (K__name(0, "value")) {
		push_string(stack, kalos_idl_binding_value((void*)state, object));
		return true;
	}
	return false;
}

kalos_object_dispatch kalos_module_idl_module_object_binding_obj_props = {
	.dispatch_name = kalos_module_idl_module_object_binding_obj_props_fn
};

bool kalos_module_idl_module_dynamic_dispatch(kalos_run_state* state, const char* name, int param_count, kalos_stack* stack, bool retval) {
	// id=1 name=walk_exports arg_count=1 binding=fn kalos_idl_walk_exports
	if (K__name(1, "walk_exports")) {
		LOG("Invoke %s", "walk_exports");
		const int arg_count = 1;
		kalos_stack_setup_1(state, K__t_any);
		kalos_idl_walk_exports((void*)state, K__arg_any(K__arg(arg_count, 1)));
		kalos_stack_cleanup(state, arg_count);
		return true;
	}

	// id=2 name=walk_object_properties arg_count=2 binding=fn kalos_idl_walk_object_properties
	if (K__name(2, "walk_object_properties")) {
		LOG("Invoke %s", "walk_object_properties");
		const int arg_count = 2;
		kalos_stack_setup_2(state, K__t_any, K__t_object);
		kalos_idl_walk_object_properties((void*)state, K__arg_any(K__arg(arg_count, 1)), K__arg_object(K__arg(arg_count, 2)));
		kalos_stack_cleanup(state, arg_count);
		return true;
	}

	// id=3 name=name binding=fn kalos_idl_module_name
	if (K__name(0, "name")) {
		push_string(stack, kalos_idl_module_name((void*)state));
		return true;
	}
	// id=4 name=prefix binding=fn kalos_idl_module_prefix
	if (K__name(0, "prefix")) {
		push_string(stack, kalos_idl_module_prefix((void*)state));
		return true;
	}
	return false;
}

bool kalos_module_idl_dynamic_dispatch(kalos_run_state* state, const char* module, const char* name, int param_count, kalos_stack* stack, bool retval) {
	if (strcmp(module, "builtin") == 0) { return kalos_module_idl_builtin_dynamic_dispatch(state, name, param_count, stack, retval); }
	if (strcmp(module, "kidl") == 0) { return kalos_module_idl_kidl_dynamic_dispatch(state, name, param_count, stack, retval); }
	if (strcmp(module, "module") == 0) { return kalos_module_idl_module_dynamic_dispatch(state, name, param_count, stack, retval); }

	LOG("Module %s not found", module);
	return false;
}

#undef K__string
#undef K__number
#undef K__bool
#undef K__object
#undef K__any
